//
//  IphoneTrackeViewController.swift
//  MPulse
//
//  Created by Nikita on 8/26/21.
//

import UIKit
import Kingfisher

class IphoneTrackerViewController: UIViewController, UICollectionViewDelegate, UICollectionViewDataSource, UICollectionViewDelegateFlowLayout, UISearchBarDelegate {
    
    var iphoneModels: [IPhoneModel] = []
    
    var filteredModels: [IPhoneModel] = []
    
    @IBOutlet weak var iphoneTrackCollectionView: UICollectionView!
    @IBOutlet weak var searchBar: UISearchBar!
    
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        
        
        searchBar.delegate = self
        
        let cellXib = UINib(nibName: "IphoneTrackCollectionViewCollectionViewCell", bundle: nil)
        iphoneTrackCollectionView.register(cellXib, forCellWithReuseIdentifier: "IphoneTrackCollectionViewCollectionViewCell")
        
        iphoneTrackCollectionView.delegate = self
        iphoneTrackCollectionView.dataSource = self
        
        
        iphoneModels.append(contentsOf: [IPhoneModel(model: "iPhone 2G ", date: "–Ø–Ω–≤–∞—Ä—å 2007 - –ò—é–Ω—å 2008", image: "https://img.mobihobby.ru/phone/view_b/apple_iphone_8gb_9e2c939b68.jpg", modelNumber: "A1203", colors: "Black", price: "$499(4 gb) $599(8 gb)", storage: "4, 8, 16gb", processor: "Samsung ARM 1176JZ(F)-S", processorSpeed: "620 MHz", architecture: "32-bit", numberCores: "1", coprocessor: "-", builtMemory: "128 MB LPDDR", battery: "1400 mAh", graphicsCard: "PowerVR MBX Lite", lcd: "LCD display", lcdResolution: "320x480 pixels", lcdSize: "3.5 –¥—é–π–º–∞", lcdPixel: "163 ppi", youtubeUrl: "https://www.youtube.com/watch?v=uai3hebS2dw"),
                                         IPhoneModel(model: "iPhone 3G", date: "–ò—é–Ω—å 2008 - –ò—é–Ω—å 2010", image: "https://avatars.mds.yandex.net/get-mpic/200316/img_id1054098725838654308/13hq", modelNumber: "A1241, A1324", colors: "Black, White", price: "-", storage: "8, 16gb", processor: "Samsung ARM 1176JZ(F)-S", processorSpeed: "620 MHz", architecture: "32-bit", numberCores: "1", coprocessor: "-", builtMemory: "128 MB LPDDR", battery: "1150 mAh", graphicsCard: "PowerVR MBX Lite", lcd: "LCD display", lcdResolution: "320x480 pixels", lcdSize: "3.5 –¥—é–π–º–∞", lcdPixel: "163 ppi", youtubeUrl: "https://www.youtube.com/watch?v=4CvS9lfy7dw"), IPhoneModel(model: "iPhone 3GS", date: "–ò—é–Ω—å 2009 - –°–µ–Ω—Ç—è–±—Ä—å 2012", image: "https://avatars.mds.yandex.net/get-mpic/200316/img_id1054098725838654308/13hq", modelNumber: "A1303, A1325", colors: "Black, White", price: "-", storage: "8, 16, 32gb", processor: "Samsung ARM Cortex-A8", processorSpeed: "833 MHz", architecture: "32-bit", numberCores: "1", coprocessor: "-", builtMemory: "256 MB LPDDR", battery: "1219 mAh", graphicsCard: "PowerVR SGX535", lcd: "LCD display", lcdResolution: "320x480 pixels", lcdSize: "3.5 –¥—é–π–º–∞", lcdPixel: "163 ppi", youtubeUrl: "https://www.youtube.com/watch?v=gHrLL4LgtCA"), IPhoneModel(model: "iPhone 4", date: "–ò—é–Ω—å 2010 - –°–µ–Ω—Ç—è–±—Ä—å 2013", image: "https://avatars.mds.yandex.net/get-mpic/1642819/img_id1499248441848444469/13hq", modelNumber: "A1332", colors: "Black, White", price: "-", storage: "8, 16, 32gb", processor: "Apple A4", processorSpeed: "1 GHz", architecture: "32-bit", numberCores: "1", coprocessor: "-", builtMemory: "512 MB LPDDR", battery: "1420 mAh", graphicsCard: "PowerVR SGX535", lcd: "Retina LED-backlit LCD display with IPS technology", lcdResolution: "960x640 pixels", lcdSize: "3.5 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=KEaLJpFxR9Q&t=26s"), IPhoneModel(model: "iPhone 4s", date: "–û–∫—Ç—è–±—Ä—å 2011 - –°–µ–Ω—Ç—è–±—Ä—å 2014", image: "https://avatars.mds.yandex.net/get-mpic/1927699/img_id2725534936214708419/13hq", modelNumber: "A1378, A1431", colors: "Black, White", price: "$450 (8 GB) $649 (16 GB) $749 (32 GB) $849 (64 GB)", storage: "8, 16, 32, 64gb", processor: "Apple A5", processorSpeed: "1 GHz", architecture: "32-bit", numberCores: "2", coprocessor: "-", builtMemory: "512 MB LPDDR", battery: "1432 mAh", graphicsCard: "PowerVR SGX543MP2", lcd: "Retina LED-backlit LCD display with IPS technology", lcdResolution: "960x640 pixels", lcdSize: "3.5 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=bcKX13rTy-4"), IPhoneModel(model: "iPhone 5", date: "–°–µ–Ω—Ç—è–±—Ä—å 2012 - –°–µ–Ω—Ç—è–±—Ä—å 2013", image: "https://avatars.mds.yandex.net/get-mpic/200316/img_id634156523835541605/13hq", modelNumber: "A1428, A1429", colors: "Black, White", price: "-", storage: "8, 16, 32, 64gb", processor: "Apple A6", processorSpeed: "1.3 GHz", architecture: "32-bit", numberCores: "2", coprocessor: "-", builtMemory: "1 GB LPDDR2", battery: "1440 mAh", graphicsCard: "PowerVR SGX543MP3", lcd: "Retina LED-backlit LCD display with IPS technology",lcdResolution: "1136x640 pixels", lcdSize: "4 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=u5X5cV-4LRo&t=7s"), IPhoneModel(model: "iPhone 5s", date: "–°–µ–Ω—Ç—è–±—Ä—å 2013 - –ú–∞—Ä—Ç 2016", image: "https://avatars.mds.yandex.net/get-mpic/1374520/img_id1202805144443115156.jpeg/13hq", modelNumber: "A1533, A1453, A1457, A1518, A1528, A1530", colors: "Space Gray, Silver, Gold", price: "$649 (16 GB) $749 (32 GB) $849 (64 GB)", storage: "8, 16, 32, 64gb", processor: "Apple A7", processorSpeed: "1.3 GHz", architecture: "64-bit", numberCores: "2", coprocessor: "Apple M7 mootion", builtMemory: "1 GB LPDDR3", battery: "1560 mAh", graphicsCard: "PowerVR G6430", lcd: "Retina LED-backlit LCD display with IPS technology", lcdResolution: "1136x640 pixels", lcdSize: "4 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=GrHUTadzgbM"), IPhoneModel(model: "iPhone 5c", date: "–°–µ–Ω—Ç—è–±—Ä—å 2013 - –°–µ–Ω—Ç—è–±—Ä—å 2015", image: "https://avatars.mds.yandex.net/get-mpic/1600461/img_id6534368399752135888/13hq", modelNumber: "A1532, A1456, A1507, A1516, A1526, A1529", colors: "White, Pink, Yellow, Blue, Green", price: "üá∫üá∏ $549 (16 GB) $649 (32 GB)", storage: "8, 16, 32gb", processor: "Apple A6", processorSpeed: "1.3 GHz", architecture: "32-bit", numberCores: "2", coprocessor: "-", builtMemory: "1 GB LPDDR2", battery: "1510 mAh", graphicsCard: "PowerVR SGX543MP3", lcd: "Retina LED-backlit LCD display with IPS technology", lcdResolution: "1136x640 pixels", lcdSize: "4 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=WFv-OwokHLs"), IPhoneModel(model: "iPhone 6", date: "–°–µ–Ω—Ç—è–±—Ä—å 2014 - –°–µ–Ω—Ç—è–±—Ä—å 2016", image: "https://avatars.mds.yandex.net/get-mpic/372220/img_id7257490756919983478.jpeg/13hq", modelNumber: "A1549, A1586, A1589", colors: "Space Gray, Silver, Gold", price: "üá∫üá∏ $649 (16 GB) $749 (64 GB) $849 (128 GB)", storage: "8, 16, 32, 64, 128gb", processor: "Apple A8", processorSpeed: "1.4 GHz", architecture: "64-bit", numberCores: "2", coprocessor: "Apple M8 motion", builtMemory: "1 GB LPDDR3", battery: "1810 mAh", graphicsCard: "PowerVR GX6450", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1334x750 pixels", lcdSize: "4.7 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=fObiQ0xOEWE"), IPhoneModel(model: "iPhone 6 Plus", date: "–°–µ–Ω—Ç—è–±—Ä—å 2014 - –°–µ–Ω—Ç—è–±—Ä—å 2016", image: "https://avatars.mds.yandex.net/get-mpic/4362548/img_id7710316145144577264.jpeg/13hq", modelNumber: "A1522, A1524, A1593", colors: "Space Gray, Silver, Gold", price: "üá∫üá∏ $749 (16 GB) $849 (64 GB) $949 (128 GB)", storage: "16, 64, 128gb", processor: "Apple A8", processorSpeed: "1.4 GHz", architecture: "64-bit", numberCores: "2", coprocessor: "Apple M8 motion", builtMemory: "1 GB LPDDR3", battery: "2915 mAh", graphicsCard: "PowerVR GX6450", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1920x1080 pixels", lcdSize: "5.5 –¥—é–π–º–æ–≤", lcdPixel: "401 ppi", youtubeUrl: "https://www.youtube.com/watch?v=fObiQ0xOEWE"), IPhoneModel(model: "iPhone 6s", date: "–°–µ–Ω—Ç—è–±—Ä—å 2015 - –°–µ–Ω—Ç—è–±—Ä—å 2018", image: "https://avatars.mds.yandex.net/get-mpic/1525355/img_id8139261268256005043.jpeg/13hq", modelNumber: "A1633, A1688, A1691, A1700", colors: "Space Gray, Silver, Gold, Rose Gold", price: "üá∫üá∏ $649 (16 GB) $749 (64 GB) $849 (128 GB)", storage: "16, 32, 64, 128gb", processor: "Apple A9", processorSpeed: "1.85 GHz", architecture: "64-bit", numberCores: "2", coprocessor: "Apple M9 motion", builtMemory: "2 GB LPDDR4", battery: "1715 mAh", graphicsCard: "PowerVR GT7600", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1334x750 pixels", lcdSize: "4.7 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=ZCikZJbaRfM"), IPhoneModel(model: "iPhone 6s Plus", date: "–°–µ–Ω—Ç—è–±—Ä—å 2015 - –°–µ–Ω—Ç—è–±—Ä—å 2018", image: "https://avatars.mds.yandex.net/get-mpic/4080064/img_id651252120385840788.jpeg/13hq", modelNumber: "A1634, A1687, A1699", colors: "Space Gray, Silver, Gold, Rose Gold", price: "üá∫üá∏ $749 (16 GB) $649 (32 GB) $849 (64 GB) $949 (128 GB)", storage: "16, 32, 64, 128gb", processor: "Apple A9", processorSpeed: "1.85 GHz", architecture: "64-bit", numberCores: "2", coprocessor: "Apple M9 motion", builtMemory: "2 GB LPDDR4", battery: "2750 mAh", graphicsCard: "PowerVR GT7600", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1920x1080 pixels", lcdSize: "5.5 –¥—é–π–º–æ–≤", lcdPixel: "401 ppi", youtubeUrl: "https://www.youtube.com/watch?v=ZCikZJbaRfM"),IPhoneModel(model: "iPhone SE", date: "–ú–∞—Ä—Ç 2016 - –°–µ–Ω—Ç—è–±—Ä—å 2018", image: "https://avatars.mds.yandex.net/get-mpic/372220/img_id8727843734704337499.jpeg/13hq", modelNumber: "A1662, A1723, A1724", colors: "Space Gray, Silver, Gold, Rose Gold", price: "üá∫üá∏ $399 (16 GB) $399 (32 GB) $499 (64 GB) $499 (128 GB)", storage: "16, 32, 64, 128gb", processor: "Apple A9", processorSpeed: "1.85 GHz", architecture: "64-bit", numberCores: "2", coprocessor: "Apple M9 motion", builtMemory: "2 GB LPDDR4", battery: "1624 mAh", graphicsCard: "PowerVR GT7600", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1136x640 pixels", lcdSize: "4 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=YjGMgQ-Sosw"), IPhoneModel(model: "iPhone 7", date: "–°–µ–Ω—Ç—è–±—Ä—å 2016 - –°–µ–Ω—Ç—è–±—Ä—å 2019", image: "https://avatars.mds.yandex.net/get-mpic/364668/img_id2150698741198649547.jpeg/orig", modelNumber: "A1660, A1778, A1779, A1780", colors: "Jet Black, Black, Silver, Gold, Rose Gold, (PRODUCT) RED", price: "üá∫üá∏ $649 (32 GB) $749 (128 GB) $849 (256 GB)", storage: "32, 128, 256gb", processor: "Apple A10 Fusion", processorSpeed: "2.3 GHz", architecture: "64-bit", numberCores: "4", coprocessor: "Apple M10 motion", builtMemory: "2 GB LPDDR4", battery: "1960 mAh", graphicsCard: "Custom PowerVR GT7600", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1334x750 pixels", lcdSize: "4.7 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=AXG2VCRPItc"), IPhoneModel(model: "iPhone 7 Plus", date: "–°–µ–Ω—Ç—è–±—Ä—å 2016 - –°–µ–Ω—Ç—è–±—Ä—å 2018", image: "https://avatars.mds.yandex.net/get-mpic/1538707/img_id7903962656819594051.jpeg/13hq", modelNumber: "A1661, A1784, A1785, A1786", colors: "Jet Black, Black, Silver, Gold, Rose Gold, (PRODUCT) RED", price: "üá∫üá∏ $769 (32 GB) $869 (128 GB) $969 (256 GB)", storage: "32, 128, 256gb", processor: "Apple A10 Fusion", processorSpeed: "2.3 GHz", architecture: "64-bit", numberCores: "4", coprocessor: "Apple M10 motion", builtMemory: "3 GB LPDDR4", battery: "2900 mAh", graphicsCard: "Custom PowerVR GT7600", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1136x640 pixels", lcdSize: "5.5 –¥—é–π–º–æ–≤", lcdPixel: "401 ppi", youtubeUrl: "https://www.youtube.com/watch?v=AXG2VCRPItc"), IPhoneModel(model: "iPhone 8", date: "–°–µ–Ω—Ç—è–±—Ä—å 2017 - –ê–ø—Ä–µ–ª—å 2020", image: "https://avatars.mds.yandex.net/get-mpic/932277/img_id8577152390218330050.jpeg/orig", modelNumber: "A1863, A1905, A1906, A1907", colors: "Space Gray, Silver, Gold, (PRODUCT) RED", price: "üá∫üá∏ $699 (64 GB) $849 (256 GB)", storage: "64, 128, 256 GB", processor: "Apple A11 Bionic", processorSpeed: "2.4 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M11 motion", builtMemory: "2 GB LPDDR4X", battery: "1821 mAh", graphicsCard: "Apple GPU", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1334x750 pixels", lcdSize: "4.7 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=6rqd-CWt25M"), IPhoneModel(model: "iPhone 8 Plus", date: "–°–µ–Ω—Ç—è–±—Ä—å 2017 - –ê–ø—Ä–µ–ª—å 2020", image: "https://avatars.mds.yandex.net/get-mpic/331398/img_id316797945473503285.jpeg/13hq", modelNumber: "A1864, A1897, A1898, A1899", colors: "Space Gray, Silver, Gold, (PRODUCT) RED", price: "üá∫üá∏ $799 (64 GB) $949 (256 GB)", storage: "64, 128, 256 GB", processor: "Apple A11 Bionic", processorSpeed: "2.4 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M11 motion", builtMemory: "3 GB LPDDR4X", battery: "2691 mAh", graphicsCard: "Apple GPU", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1920x1080 pixels", lcdSize: "5.5 –¥—é–π–º–æ–≤", lcdPixel: "401 ppi", youtubeUrl: "https://www.youtube.com/watch?v=6rqd-CWt25M"), IPhoneModel(model: "iPhone X", date: "–ù–æ—è–±—Ä—å 2017 - –°–µ–Ω—Ç—è–±—Ä—å 2018", image: "https://avatars.mds.yandex.net/get-mpic/1220464/img_id5623821598203689238.jpeg/13hq", modelNumber: "A1865, A1901, A1902", colors: "Space Gray, Silver", price: "üá∫üá∏ $999 (64 GB) $1,149 (256 GB)", storage: "64, 256 GB", processor: "Apple A11 Bionic", processorSpeed: "2.4 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M11 motion", builtMemory: "3 GB LPDDR4X", battery: "2716 mAh", graphicsCard: "Apple GPU", lcd: "Super Retina HD OLED display", lcdResolution: "2436x1125 pixels", lcdSize: "5.8 –¥—é–π–º–æ–≤", lcdPixel: "458 ppi", youtubeUrl: "https://www.youtube.com/watch?v=mPi4XHlhL18"), IPhoneModel(model: "iPhone XS", date: "–°–µ–Ω—Ç—è–±—Ä—å 2018 - –°–µ–Ω—Ç—è–±—Ä—å 2019", image: "https://avatars.mds.yandex.net/get-mpic/3614670/img_id6620355265670829367.jpeg/13hq", modelNumber: "A1920, A2097, A2098, A2100", colors: "Space Gray, Silver, Gold", price: "üá∫üá∏ $999 (64 GB) $1,149 (256 GB) $1,349 (512 GB)", storage: "64, 256, 512 GB", processor: "Apple A12 Bionic", processorSpeed: "2.5 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M12 motion", builtMemory: "4 GB LPDDR4X", battery: "2658 mAh", graphicsCard: "Apple G11P", lcd: "Super Retina HD OLED display", lcdResolution: "2436x1125 pixels", lcdSize: "5.8 –¥—é–π–º–æ–≤", lcdPixel: "458 ppi", youtubeUrl: "https://www.youtube.com/watch?v=OMSEUvQDXIs"), IPhoneModel(model: "iPhone XS Max", date: "–°–µ–Ω—Ç—è–±—Ä—å 2018 - –°–µ–Ω—Ç—è–±—Ä—å 2019", image: "https://avatars.mds.yandex.net/get-mpic/4615030/img_id936310067245823320.jpeg/13hq", modelNumber: "A1921, A2101, A2102, A2104", colors: "Space Gray, Silver, Gold", price: "üá∫üá∏ $1,099 (64 GB) $1,249 (256 GB) $1,449 (512 GB)", storage: "64, 256, 512 GB", processor: "Apple A12 Bionic", processorSpeed: "2.5 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M12 motion", builtMemory: "4 GB LPDDR4X", battery: "3174 mAh", graphicsCard: "Apple G11P", lcd: "Super Retina HD OLED display", lcdResolution: "2688x1242 pixels", lcdSize: "6.5 –¥—é–π–º–æ–≤", lcdPixel: "458 ppi", youtubeUrl: "https://www.youtube.com/watch?v=OMSEUvQDXIs"), IPhoneModel(model: "iPhone XR", date: "–û–∫—Ç—è–±—Ä—å 2018 - –°–µ–Ω—Ç—è–±—Ä—å 2021", image: "https://avatars.mds.yandex.net/get-mpic/4578218/img_id7276071389806281682.jpeg/13hq", modelNumber: "A1984, A2105, A2106, A2108, A2107", colors: "(PRODUCT) RED, Yellow, White, Coral, Black, Blue", price: "üá∫üá∏ $749 (64 GB) $799 (128 GB) $899 (256 GB)", storage: "64, 128, 256 GB", processor: "Apple A12 Bionic", processorSpeed: "2.5 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M12 motion", builtMemory: "3 GB LPDDR4X", battery: "2942 mAh", graphicsCard: "Apple G11P", lcd: "Liquid Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1792x828 pixels", lcdSize: "6.1 –¥—é–π–º–æ–≤", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=etGnGM6if6M"), IPhoneModel(model: "iPhone 11", date: "–°–µ–Ω—Ç—è–±—Ä—å 2019 - –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –Ω–∞—Å—Ç–æ–æ—è—â–µ–µ –≤—Ä–µ–º—è", image: "https://avatars.mds.yandex.net/get-mpic/4120567/img_id1280937207449087070.jpeg/13hq", modelNumber: "A2111, A2221, A2223", colors: "(PRODUCT) RED, Yellow, White, Green, Black, Purple", price: "üá∫üá∏ $699 (64 GB) $749 (128 GB) $849 (256 GB)", storage: "64, 128, 256 GB", processor: "Apple A13 Bionic", processorSpeed: "2.66 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M13 motion", builtMemory: "4 GB LPDDR4X", battery: "3110 mAh", graphicsCard: "Apple GPU", lcd: "Liquid Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1792x828 pixels", lcdSize: "6.1 –¥—é–π–º–æ–≤", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=IPvSAtAsMM4"), IPhoneModel(model: "iPhone 11 Pro", date: "–°–µ–Ω—Ç—è–±—Ä—å 2019 - –û–∫—Ç—è–±—Ä—å 2020", image: "https://avatars.mds.yandex.net/get-mpic/4493022/img_id6882475292496918934.jpeg/orig", modelNumber: "A2160, A2217, A2215", colors: "Space Gray, Silver, Gold, Midnight Green", price: "üá∫üá∏ $999 (64 GB) $1,149 (256 GB) $1,349 (512 GB)", storage: "64, 256, 512 GB", processor: "Apple A13 Bionic", processorSpeed: "2.66 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M13 motion", builtMemory: "4 GB LPDDR4X", battery: "3046 mAh", graphicsCard: "Apple GPU", lcd: "Super Retina HD OLED display", lcdResolution: "2436x1125 pixels", lcdSize: "5.8 –¥—é–π–º–æ–≤", lcdPixel: "458 ppi", youtubeUrl: "https://www.youtube.com/watch?v=7rMuN2Ah1ts"), IPhoneModel(model: "iPhone 11 Pro Max", date: "–°–µ–Ω—Ç—è–±—Ä—å 2019 - –û–∫—Ç—è–±—Ä—å 2020", image: "https://avatars.mds.yandex.net/get-mpic/1614201/img_id2813131198816177177.jpeg/orig", modelNumber: "A2161, A2220, A2218", colors: "Space Gray, Silver, Gold, Midnight Green", price: "üá∫üá∏ $1,099 (64 GB) $1,249 (256 GB) $1,449 (512 GB)", storage: "64, 256, 512 GB", processor: "Apple A13 Bionic", processorSpeed: "2.66 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M13 motion", builtMemory: "4 GB LPDDR4X", battery: "3969 mAh", graphicsCard: "Apple GPU", lcd: "Super Retina HD OLED display", lcdResolution: "2688x1242 pixels", lcdSize: "6.5 –¥—é–π–º–æ–≤", lcdPixel: "458 ppi", youtubeUrl: "https://www.youtube.com/watch?v=7rMuN2Ah1ts"), IPhoneModel(model: "iPhone SE 2020", date: "–ê–ø—Ä–µ–ª—å 2020 - –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –Ω–∞—Å—Ç–æ–æ—è—â–µ–µ –≤—Ä–µ–º—è", image: "https://avatars.mds.yandex.net/get-mpic/4401552/img_id1772781560543430164.jpeg/orig", modelNumber: "A2275, A2298, A2296", colors: "Black, White, (PRODUCT) RED", price: "üá∫üá∏ $399 (64 GB) $449 (128 GB) $549 (256 GB)", storage: "64, 128, 256 GB", processor: "Apple A13 Bionic", processorSpeed: "2.66 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M13 motion", builtMemory: "3 GB LPDDR4X", battery: "1821 mAh", graphicsCard: "Apple GPU", lcd: "Retina HD LED-backlit LCD display with IPS technology", lcdResolution: "1334x750 pixels", lcdSize: "4.7 –¥—é–π–º–∞", lcdPixel: "326 ppi", youtubeUrl: "https://www.youtube.com/watch?v=SQIbeAk-bFA"), IPhoneModel(model: "iPhone 12", date: "–û–∫—Ç—è–±—Ä—å 2020 - –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –Ω–∞—Å—Ç–æ–æ—è—â–µ–µ –≤—Ä–µ–º—è", image: "https://avatars.mds.yandex.net/get-mpic/5218438/img_id8730315210738110501.png/orig", modelNumber: "A2172, A2402, A2404, A2403", colors: "Black, White, (PRODUCT) RED, Green, Blue, Purple", price: "üá∫üá∏ $829 (64 GB) $879 (128 GB) $979 (256 GB)", storage: "64, 128, 256 GB", processor: "Apple A14 Bionic", processorSpeed: "3.0 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M14 motion", builtMemory: "4 GB LPDDR4X", battery: "2815 mAh", graphicsCard: "Apple GPU", lcd: "Super Retina XDR OLED display", lcdResolution: "2532x1170 pixels", lcdSize: "6.1 –¥—é–π–º–æ–≤", lcdPixel: "460 ppi", youtubeUrl: "https://www.youtube.com/watch?v=65JrtwtTOdc"), IPhoneModel(model: "iPhone 12 Pro", date: "–û–∫—Ç—è–±—Ä—å 2020 - –°–µ–Ω—Ç—è–±—Ä—å 2021", image: "https://avatars.mds.yandex.net/get-mpic/4080439/img_id576346780998642610.jpeg/orig", modelNumber: "A2341, A2406, A2408, A2407", colors: "Silver, Graphite, Gold, Pacific Blue", price: "üá∫üá∏ $999 (128 GB) $1,099 (256 GB) $1,299 (512 GB)", storage: "128, 256, 512 GB", processor: "Apple A14 Bionic", processorSpeed: "3.0 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M14 motion", builtMemory: "6 GB LPDDR4X", battery: "2815 mAh", graphicsCard: "Apple GPU", lcd: "Super Retina XDR OLED display", lcdResolution: "2532x1170 pixels", lcdSize: "6.1 –¥—é–π–º–æ–≤", lcdPixel: "460 ppi", youtubeUrl: "https://www.youtube.com/watch?v=cnXapYkboRQ"), IPhoneModel(model: "iPhone 12 Mini", date: "–ù–æ—è–±—Ä—å 2020 - –°–µ–Ω—Ç—è–±—Ä—å 2021", image: "https://avatars.mds.yandex.net/get-mpic/4012371/img_id4188275582657457870.jpeg/orig", modelNumber: "A2176, A2398, A2400, A2399", colors: "Black, White, (PRODUCT) RED, Green, Blue, Purple", price: "üá∫üá∏ $729 (64 GB) $779 (128 GB) $879 (256 GB)", storage: "64, 128, 256 GB", processor: "Apple A14 Bionic", processorSpeed: "3.0 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M14 motion", builtMemory: "4 GB LPDDR4X", battery: "2227 mAh", graphicsCard: "Apple GPU", lcd: "Super Retina XDR OLED display", lcdResolution: "2340x1080 pixels", lcdSize: "5.4 –¥—é–π–º–æ–≤", lcdPixel: "476 ppi", youtubeUrl: "https://www.youtube.com/watch?v=HpS1KFALe88"), IPhoneModel(model: "iPhone 12 Pro Max", date: "–û–∫—Ç—è–±—Ä—å 2020 - –°–µ–Ω—Ç—è–±—Ä—å 2021", image: "https://avatars.mds.yandex.net/get-mpic/1866085/img_id2785701176540720973.jpeg/orig", modelNumber: "A2342, A2410, A2412, A2411", colors: "Silver, Graphite, Gold, Pacific Blue", price: "üá∫üá∏ $1,099 (128 GB) $1,199 (256 GB) $1,399 (512 GB)", storage: "128, 256, 512 GB", processor: "Apple A14 Bionic", processorSpeed: "3.0 GHz", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M14 motion", builtMemory: "6 GB LPDDR4X", battery: "3687 mAh", graphicsCard: "Apple GPU", lcd: "Super Retina XDR OLED display", lcdResolution: "2778x1284 pixel", lcdSize: "6.7 –¥—é–π–º–æ–≤", lcdPixel: "458 ppi", youtubeUrl: "https://www.youtube.com/watch?v=cnXapYkboRQ"),IPhoneModel(model: "iPhone 13 mini", date: "–°–µ–Ω—Ç—è–±—Ä—å 2021 - –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –Ω–∞—Å—Ç–æ–æ—è—â–µ–µ –≤—Ä–µ–º—è", image: "https://avatars.mds.yandex.net/get-mpic/5261272/img_id4856577712198423103.png/13hq", modelNumber: "A2481", colors: "Starlight, Midnight, Blue, Pink", price: "üá∫üá∏ $699 (128 GB) $799 (256 GB) $999 (512 GB)", storage: "128, 256, 512 GB", processor: "Apple A15 Bionic", processorSpeed: "-", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M15 motion", builtMemory: "4 GB LPDDR4X", battery: "2406 mAh", graphicsCard: "", lcd: "OLED  (Super Retina XDR)", lcdResolution: "1080x2340", lcdSize: "5.4 –¥—é–π–º–æ–≤", lcdPixel: "476 ppi", youtubeUrl: "https://www.youtube.com/watch?v=m43rh-pI0P0"), IPhoneModel(model: "iPhone 13", date: "–°–µ–Ω—Ç—è–±—Ä—å 2021 - –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –Ω–∞—Å—Ç–æ–æ—è—â–µ–µ –≤—Ä–µ–º—è", image: "https://avatars.mds.yandex.net/get-mpic/4937511/img_id8626755894881214003.png/13hq", modelNumber: "A2482", colors: "Starlight, Midnight, Blue, Pink", price: "üá∫üá∏ $799 (128 GB) $899 (256 GB) $1,099 (512 GB)", storage: "128, 256, 512 GB", processor: "Apple A15 Bionic", processorSpeed: "-", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M15 motion", builtMemory: "4 GB LPDDR4X", battery: "3095 mAh", graphicsCard: "-", lcd: "OLED  (Super Retina XDR)", lcdResolution: "1170x2532", lcdSize: "6.1 –¥—é–π–º–æ–≤", lcdPixel: "460 ppi", youtubeUrl: "https://www.youtube.com/watch?v=m43rh-pI0P0"), IPhoneModel(model: "iPhone 13 Pro", date: "C–µ–Ω—Ç—è–±—Ä—å 2021 - –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –Ω–∞—Å—Ç–æ–æ—è—â–µ–µ –≤—Ä–µ–º—è", image: "https://avatars.mds.yandex.net/get-mpic/5234569/img_id973882475249173406.png/13hq", modelNumber: "-", colors: "Graphite, Gold, Silver, Sierra blue", price: "üá∫üá∏ $999 (128 GB) $1.099 (256 GB) $1,299 (512 GB) $1,499 (1 TB)", storage: "128, 256, 512 GB, 1TB", processor: "Apple A15 Bionic", processorSpeed: "-", architecture: "64-bit", numberCores: "6", coprocessor: "Apple M15 motion", builtMemory: "6 GB LPDDR4X", battery: "3095 mAh", graphicsCard: "-", lcd: "OLED  (Super Retina XDR)", lcdResolution: "1170x2532", lcdSize: "6.1 –¥—é–π–º–æ–≤", lcdPixel: "460 ppi", youtubeUrl: "https://www.youtube.com/watch?v=XKfgdkcIUxw"), IPhoneModel(model: "iPhone 13 Pro Max", date: "C–µ–Ω—Ç—è–±—Ä—å 2021 - –í—ã–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –Ω–∞—Å—Ç–æ–æ—è—â–µ–µ –≤—Ä–µ–º—è", image: "https://avatars.mds.yandex.net/get-mpic/4012096/img_id688797895190441958.png/13hq", modelNumber: "-", colors: "Graphite, Gold, Silver, Sierra blue", price: "üá∫üá∏ $1,099 (128 GB) $1.199 (256 GB) $1,399 (512 GB) $1,599 (1 TB)", storage: "128, 256, 512 GB, 1TB", processor: "Apple A15 Bionic", processorSpeed: "-", architecture: "64-bit", numberCores: "6", coprocessor: "Apple A15 Bionic", builtMemory: "6 GB LPDDR4X", battery: "4352 mAh", graphicsCard: "-", lcd: "OLED  (Super Retina XDR)", lcdResolution: "1284x2778", lcdSize: "6.7 –¥—é–π–º–æ–≤", lcdPixel: "458 ppi", youtubeUrl: "https://avatars.mds.yandex.net/get-mpic/4012096/img_id688797895190441958.png/13hq")])
        
        filteredModels = iphoneModels
        
        self.title = "iPhone Tracker"
    }
    
    
    func searchBar(_ searchBar: UISearchBar, textDidChange searchText: String) {
        if searchText.isEmpty {
            filteredModels = iphoneModels
        } else {
            filteredModels = iphoneModels.filter({ $0.modelNumber.contains(searchText) || $0.model.contains(searchText) })
        }
        iphoneTrackCollectionView.reloadData()
    }
    
    
    func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -> Int {
        return filteredModels.count
    }
    
    func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {
        let cell = iphoneTrackCollectionView.dequeueReusableCell(withReuseIdentifier: "IphoneTrackCollectionViewCollectionViewCell", for: indexPath) as! IphoneTrackCollectionViewCollectionViewCell
        
        let iphone = filteredModels[indexPath.row]
        cell.labelModel.text = iphone.model
        cell.labelDate.text = iphone.date
        
        let url = URL(string: iphone.image)
        cell.phoneImageView.kf.setImage(with: url)
        return cell
    }
    
    func collectionView(_ collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAt indexPath: IndexPath) -> CGSize {  //—Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —è—á–µ–π–∫–º
        let offset = 20
        let spacing = 15
        let screenWidth = UIScreen.main.bounds.size.width
        let cellWidth = (Int(screenWidth) - offset * 2)
        let size = CGSize(width: cellWidth , height: 100)
        return size
    }
    
    func collectionView(_ collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath) {
        
        let iphone = filteredModels[indexPath.row]
        
        let infoIphoneVC = storyboard?.instantiateViewController(identifier: "IphoneInfoTrackViewController") as! IphoneInfoTrackViewController
        
        infoIphoneVC.iphone = iphone
        navigationController?.pushViewController(infoIphoneVC, animated: true)
        
    }
    
    
}



